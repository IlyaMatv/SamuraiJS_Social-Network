{"version":3,"sources":["../node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","assets/images/user.png","components/Profile/ProfileInfo/ProfileInfo.module.css","components/Profile/MyPosts/MyPosts.module.css","components/Profile/MyPosts/Post/Post.module.css","components/Profile/ProfileInfo/ProfileStatus.jsx","components/Profile/ProfileInfo/ProfileDataForm.jsx","components/Profile/ProfileInfo/ProfileInfo.jsx","components/Profile/MyPosts/Post/Post.jsx","components/Profile/MyPosts/MyPosts.jsx","components/Profile/MyPosts/MyPostsContainer.jsx","components/Profile/Profile.jsx","components/Profile/ProfileContainer.jsx"],"names":["_slicedToArray","arr","i","Array","isArray","Symbol","iterator","Object","prototype","toString","call","_arr","_n","_d","_e","undefined","_s","_i","next","done","push","value","length","err","TypeError","module","exports","ProfileStatus","props","useState","editMode","setEditMode","status","setStatus","useEffect","onDoubleClick","onChange","e","currentTarget","autoFocus","onBlur","updateStatus","ProfileDataReduxForm","reduxForm","form","handleSubmit","profile","error","onSubmit","className","classes","formSummaryError","createField","Input","type","TextArea","keys","contacts","map","key","contact","ProfileData","isOwner","goToEditMode","onClick","fullName","lookingForAJob","lookingForAJobDescription","aboutMe","contactTitle","contactValue","Contact","ProfileInfo","savePhoto","saveProfile","Preloader","descriptionBlock","src","photos","large","userPhoto","mainPhoto","alt","target","files","initialValues","formData","then","Post","item","message","likesCount","maxLength10","maxLengthCreator","MyPosts","React","memo","postsElements","posts","p","id","postsBlock","AddNewPostFormRedux","values","addPost","newPostText","Field","name","component","validate","required","placeholder","MyPostsContainer","connect","state","profilePage","dispatch","addPostActionCreator","Profile","isAuth","to","ProfileContainer","userId","this","match","params","authorizedUserId","history","getUserProfile","getStatus","refreshProfile","prevProps","prevState","Component","compose","auth","withRouter","withAuthRedirect"],"mappings":"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","file":"static/js/3.d128b30e.chunk.js","sourcesContent":["import arrayWithHoles from \"./arrayWithHoles\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit\";\nimport nonIterableRest from \"./nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) {\n    return;\n  }\n\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}","module.exports = __webpack_public_path__ + \"static/media/user.5f994a6e.png\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"descriptionBlock\":\"ProfileInfo_descriptionBlock__3cbL5\",\"mainPhoto\":\"ProfileInfo_mainPhoto__3nWK-\",\"contact\":\"ProfileInfo_contact__OEd9f\",\"formSummaryError\":\"ProfileInfo_formSummaryError__2gAu8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"postsBlock\":\"MyPosts_postsBlock__3xfLY\",\"posts\":\"MyPosts_posts__bsAIx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Post_item__2ckhh\"};","import React from 'react'\r\nimport classes from './ProfileInfo.module.css'\r\nimport { useState } from 'react'\r\nimport { useEffect } from 'react'\r\n\r\nconst ProfileStatus = (props) => {\r\n\r\n\r\n    let [editMode, setEditMode] = useState(false)\r\n    let [status, setStatus] = useState(props.status)\r\n\r\n    useEffect(() => {\r\n        setStatus(props.status)\r\n    }, [props.status])\r\n\r\n    const activateEditMode = () => {\r\n        setEditMode(true)\r\n    }\r\n\r\n    const deActivateEditMode = () => {\r\n        setEditMode(false)\r\n        props.updateStatus(status)\r\n    }\r\n\r\n    const onStatusChange = (e) => {\r\n        setStatus(e.currentTarget.value)\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            {!editMode &&\r\n                <div>\r\n                    <b>Status:</b> <span onDoubleClick={activateEditMode}>{status || '-----'}</span>\r\n                </div>\r\n            }\r\n            {editMode &&\r\n                <div>\r\n                    <input onChange={onStatusChange} autoFocus={true} onBlur={deActivateEditMode} value={status} />\r\n                </div>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ProfileStatus","import React from 'react'\r\nimport { createField, Input, TextArea } from \"../../common/FormsControls/FormsControls\"\r\nimport { reduxForm } from 'redux-form'\r\nimport classes from './ProfileInfo.module.css'\r\n\r\n\r\nconst ProfileDataForm = ({ handleSubmit, profile, error }) => {\r\n    return <form onSubmit={handleSubmit}>\r\n        <div><button>save</button></div>\r\n        {error && <div className={classes.formSummaryError}>{error}</div>}\r\n        <div>\r\n            <b>Full name</b>: {createField(\"Full name\", \"fullName\", [], Input)}\r\n        </div>\r\n\r\n        <div>\r\n            <b>Looking for a job</b>: {createField(\"\", \"lookingForAJob\", [], Input, { type: \"checkbox\" })}\r\n        </div>\r\n        <div>\r\n            <b>My professional skills</b>:\r\n            {createField(\"My professional skills\", \"lookingForAJobDescription\", [], TextArea)}\r\n        </div>\r\n        <div>\r\n            <b>About me</b>:\r\n            {createField(\"About me\", \"aboutMe\", [], TextArea)}\r\n        </div>\r\n        <div>\r\n            <b>Contacts</b>: {Object.keys(profile.contacts).map(key => {\r\n                return <div key={key} className={classes.contact}>\r\n                    <b>{key}: {createField(key, \"contacts.\" + key, [], Input)}</b>\r\n                </div>\r\n            })}\r\n        </div>\r\n    </form>\r\n}\r\n\r\nconst ProfileDataReduxForm = reduxForm({ form: 'editProfile' })(ProfileDataForm)\r\n\r\nexport default ProfileDataReduxForm","import React from 'react'\r\nimport classes from './ProfileInfo.module.css'\r\nimport Preloader from '../../common/Preloader/Preloader'\r\nimport ProfileStatus from './ProfileStatus'\r\nimport userPhoto from '../../../assets/images/user.png'\r\nimport { useState } from 'react'\r\nimport ProfileDataForm from './ProfileDataForm'\r\n\r\nconst ProfileInfo = ({ profile, status, updateStatus, isOwner, savePhoto, saveProfile }) => {\r\n\r\n    const [editMode, setEditMode] = useState(false)\r\n\r\n\r\n    if (!profile) {\r\n        return <Preloader />\r\n    }\r\n\r\n    const onMainPhotoSelected = (e) => {\r\n        if (e.target.files.length) {\r\n            savePhoto(e.target.files[0])\r\n        }\r\n    }\r\n\r\n    const onSubmit = (formData) => {\r\n        saveProfile(formData).then(\r\n            () => {\r\n                setEditMode(false)\r\n            }\r\n        )\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <div className={classes.descriptionBlock}>\r\n                <div>\r\n                    <img src={profile.photos.large || userPhoto} className={classes.mainPhoto} alt=\"avatar\" />\r\n                    {isOwner && <input type={'file'} onChange={onMainPhotoSelected} />}\r\n                </div>\r\n\r\n                {editMode\r\n                    ? <ProfileDataForm initialValues={profile} onSubmit={onSubmit} profile={profile} />\r\n                    : <ProfileData goToEditMode={() => { setEditMode(true) }} profile={profile} isOwner={isOwner} />}\r\n\r\n\r\n                <ProfileStatus status={status} updateStatus={updateStatus} />\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst ProfileData = ({ profile, isOwner, goToEditMode }) => {\r\n    return <div>\r\n        {isOwner && <div><button onClick={goToEditMode}>edit</button></div>}\r\n        <div>\r\n            <b>Full name</b>: {profile.fullName}\r\n        </div>\r\n\r\n        <div>\r\n            <b>Looking for a job</b>: {profile.lookingForAJob ? 'yes' : 'no'}\r\n        </div>\r\n        {profile.lookingForAJob &&\r\n            <div>\r\n                <b>My professional skills</b>: {profile.lookingForAJobDescription}\r\n            </div>\r\n        }\r\n        <div>\r\n            <b>About me</b>: {profile.aboutMe}\r\n        </div>\r\n        <div>\r\n            <b>Contacts</b>: {Object.keys(profile.contacts).map(key => {\r\n                return <Contact key={key} contactTitle={key} contactValue={profile.contacts[key]} />\r\n            })}\r\n        </div>\r\n    </div>\r\n}\r\n\r\nconst Contact = ({ contactTitle, contactValue }) => {\r\n\r\n    return (\r\n        <div className={classes.contact}>\r\n            <b>{contactTitle}</b>: {contactValue}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ProfileInfo","import React from 'react'\r\nimport classes from './Post.module.css'\r\n\r\nconst Post = (props) => {\r\n\r\n    return (\r\n        <div className={classes.item}>\r\n            <img  src='https://hornews.com/images/news_large/c1d4b2b8ec608ea72764c5678816d5c9.jpg'/>\r\n            <span>{props.message}</span>\r\n            <div>\r\n                <span>like {props.likesCount}</span>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Post","import React from 'react'\r\nimport classes from './MyPosts.module.css'\r\nimport Post from './Post/Post'\r\nimport { reduxForm, Field } from 'redux-form'\r\nimport { required, maxLengthCreator } from '../../../utils/validators/validators'\r\nimport { TextArea } from '../../common/FormsControls/FormsControls'\r\n\r\n\r\nconst maxLength10 = maxLengthCreator(10)\r\n\r\nconst MyPosts = React.memo((props) => {\r\n\r\n  let postsElements = props.posts.map(p => <Post key={p.id} message={p.message} likesCount={p.likesCount} />)\r\n\r\n  let onAddPost = (values) => {\r\n    props.addPost(values.newPostText)\r\n  }\r\n\r\n  return (\r\n    <div className={classes.postsBlock}>\r\n      <h3>My posts</h3>\r\n\r\n      <AddNewPostFormRedux onSubmit={onAddPost} />\r\n\r\n      <div className={classes.posts}>\r\n        {postsElements}\r\n      </div>\r\n    </div>\r\n  )\r\n})\r\n\r\n\r\n\r\n\r\nconst AddNewPostForm = (props) => {\r\n  return (\r\n    <form onSubmit={props.handleSubmit}>\r\n      <div>\r\n\r\n        <Field name='newPostText' component={TextArea} validate={[required, maxLength10]} placeholder={'Post message'} />\r\n\r\n      </div>\r\n      <div>\r\n        <button>Add post</button>\r\n      </div>\r\n    </form>\r\n  )\r\n}\r\n\r\nlet AddNewPostFormRedux = reduxForm({ form: 'ProfileAddNewPostForm' })(AddNewPostForm)\r\n\r\nexport default MyPosts","import React from 'react'\r\nimport classes from './MyPosts.module.css'\r\nimport Post from './Post/Post'\r\nimport { addPostActionCreator } from '../../../redux/profile-reducer'\r\nimport MyPosts from './MyPosts'\r\nimport { connect } from 'react-redux'\r\n\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    posts: state.profilePage.posts,\r\n    newPostText: state.profilePage.newPostText\r\n  }\r\n}\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    addPost: (newPostText) => {\r\n      dispatch(addPostActionCreator(newPostText))\r\n    }\r\n  }\r\n}\r\n\r\nconst MyPostsContainer = connect(mapStateToProps, mapDispatchToProps)(MyPosts)\r\n\r\nexport default MyPostsContainer","import React from 'react'\r\nimport ProfileInfo from './ProfileInfo/ProfileInfo'\r\nimport classes from './Profile.module.css'\r\nimport MyPostsContainer from './MyPosts/MyPostsContainer'\r\nimport { Redirect } from 'react-router-dom'\r\n\r\nconst Profile = (props) => {\r\n\r\n  if (!props.isAuth) return <Redirect to={\"/login\"} />\r\n\r\n  return (\r\n    <div>\r\n      <ProfileInfo isOwner={props.isOwner}\r\n        profile={props.profile}\r\n        status={props.status}\r\n        updateStatus={props.updateStatus}\r\n        savePhoto={props.savePhoto}\r\n        saveProfile={props.saveProfile}\r\n      />\r\n      <MyPostsContainer />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Profile","import React from 'react'\r\nimport Profile from './Profile'\r\nimport { connect } from 'react-redux'\r\nimport { getUserProfile, getStatus, updateStatus, savePhoto, saveProfile } from '../../redux/profile-reducer'\r\nimport { withRouter } from 'react-router-dom'\r\nimport { withAuthRedirect } from '../../hoc/withAuthRedirect'\r\nimport { compose } from 'redux'\r\n\r\nclass ProfileContainer extends React.Component {\r\n\r\n  refreshProfile() {\r\n    let userId = this.props.match.params.userId\r\n    if (!userId) {\r\n      userId = this.props.authorizedUserId\r\n      if (!userId) {\r\n        this.props.history.push('/login')\r\n      }\r\n    }\r\n    this.props.getUserProfile(userId)\r\n    this.props.getStatus(userId)\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.refreshProfile()\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (this.props.match.params.userId != prevProps.match.params.userId) {\r\n      this.refreshProfile()\r\n    }\r\n  }\r\n\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <Profile {...this.props}\r\n          isOwner={!this.props.match.params.userId}\r\n          profile={this.props.profile}\r\n          status={this.props.status}\r\n          updateStatus={this.props.updateStatus}\r\n          savePhoto={this.props.savePhoto}\r\n        />\r\n      </div>\r\n    )\r\n  }\r\n\r\n}\r\n\r\n\r\nlet mapStateToProps = (state) => ({\r\n  profile: state.profilePage.profile,\r\n  status: state.profilePage.status,\r\n  authorizedUserId: state.auth.userId,\r\n  isAuth: state.auth.isAuth\r\n})\r\n\r\nexport default compose(\r\n  connect(mapStateToProps, { getUserProfile, getStatus, updateStatus, savePhoto, saveProfile }),\r\n  withRouter,\r\n  withAuthRedirect\r\n)(ProfileContainer)"],"sourceRoot":""}